uuid: 2426aaf4-e81f-4fe4-a656-2aa923955663
langcode: en
status: true
dependencies: {  }
id: searchform
name: SearchForm
cache: false
description: 'Insert a search OCD form with the ability to add facets.'
shorttip: 'Insert search OCD form: [search=<path to search page>=<search facet1>=<search facet2>. Example: [search=/search/ocd=facet_committee:psns=facet_doc_type:council-committees-actions]'
longtip: "Insert search OCD form. Note that you can include up to 2 facets in the search if they are on the page. To get the syntax, go to the search page and check the facets you want then get them from the URL. They will be of the form: xxx:yyy\r\n\r\nExample: [search=<path to search page>=<search facet1>=<search facet2>. Example: [search=/search/ocd=facet_committee:psns=facet_doc_type:council-committees-actions]"
rules:
  search:
    rid: search
    prid: ''
    fid: searchform
    name: Search
    description: 'Insert a custom form to do a Solr search including facets for the main search (search field is called: search_api_fulltext)'
    enabled: true
    matches: null
    pattern: '#\[search:(.*?)(=(.*?))?(=(.*?))?\]#'
    replacement: "$result = sand_search_insert_form($matches[1], $matches[3], $matches[5], 'search_api_fulltext'); \r\n\r\n"
    code: true
    weight: 0
  search_block:
    rid: search_block
    prid: ''
    fid: searchform
    name: 'Search Block'
    description: 'Insert a custom form to do a Solr search including facets for content/media or ocd (search field is called: search_text)'
    enabled: true
    matches: null
    pattern: '#\[search-block:(.*?)(=(.*?))?(=(.*?))?\]#'
    replacement: "$result = sand_search_insert_form($matches[1], $matches[3], $matches[5], 'search_text'); \r\n"
    code: true
    weight: 0
